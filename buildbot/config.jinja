{% set default_options = {
    'MASTER_ADDRESS': 'localhost',
    'MASTER_USERNAME': 'buildbot',
    'MASTER_PASSWORD': 'buildbot',
    'MASTER_ENABLED': 1,
    'MASTER_NAME': 'buildmaster',
    'MASTER_USER': 'buildbot',
    'MASTER_BASEDIR': '/opt/buildbot/master',
    'MASTER_OPTIONS': '',
    'MASTER_PREFIXCMD': '',
    'SLAVE_ENABLED': 1,
    'SLAVE_NAME': 'buildslave #1',
    'SLAVE_USER': 'buildbot',
    'SLAVE_BASEDIR': '/opt/buildbot/slave',
    'SLAVE_OPTIONS': '',
    'SLAVE_PREFIXCMD': ''
  }
%}

{%- macro defaults(key) -%}
  {%- set pillar_key = 'buildbot:defaults:' ~ key -%}
  {{ salt['pillar.get'](pillar_key, default_options.get(key)) }}
{%- endmacro -%}
